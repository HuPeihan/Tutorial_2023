# 视觉组第四周考核任务

## 学习目标

这个任务需要预备队员重点掌握以下内容：

- 了解并熟练掌握 OpenCV 的基础操作。
- C++ 程序的设计、编译与运行。
- 命令行参数的应用。

## 任务内容

用 C++ 实现一个基于 OpenCV 的视频背景还原器，从我们提供的测试样例视频中获得原背景。具体要求如下：

- 将处理代码编写在 `Recovery` 类中，分文件 `Recovery.h / Recovery.cpp` 对类进行定义/实现，基本符合面向对象编程的原则。类定义如下：

   ```cpp
   /*
   * public方法、属性不可变且必须实现
   * private方法、属性可自行增添
   * 主函数中必须使用public方法；
   */
   class Recovery {

   public:
       /* readVideo
       * @param filePath 文件绝对路径
       * 根据绝对路径读取需要还原背景的文件
       */
       void readVideo(String filePath);

       /* process
       * 进行还原过程
       */
       void process();

       /* showResult
       * 窗口展示背景还原后的结果
       */
       void showResult();

   private:

   };
   ```
   
- 题目提供了三个背景被物体遮挡的视频 (`./resource/*.mp4`)，程序每次只从运行时的命令行参数读取**一个**视频，还原出背景并使用图形窗口展示出来。

- 使用计时工具，在命令行输出 `Recover.process()` 的处理时间（如 1.343s）。

- 符合团队代码规范。按照工程目录格式，分 `bin`，`build`，`src`，`include`，`resource` 文件夹，`makefile` 与这些文件夹同级。

- 使用 Markdown 为你的程序写一份清晰规范的说明文档。

- 程序要求具有足够健壮性与通用性，不能根据样例视频进行针对性的处理，在面对样例以外的视频也应该达到预期要求。（不作为评分标准）

- 注意！请不要使用 OpenCV 自带的 `cv::BackgroundSubtractor` 类及其子类等来完成任务！本任务旨在让大家熟悉 OpenCV 基本类和函数的使用，请自己开动脑筋使用基本库函数从头实现提取程序。


额外加分项，视完成情况酌情加分，请有余力的大哥尽情发挥：

- 算法处理速度较快。

- 将程序实现为 ROS 中的一个模块。

- 使用机器学习 / 深度学习方法，如果用到请附上数据集来源和训练代码。

- 使用GPU加速。


## 评分标准：


| 评分项                       | 积分值   |
| ---------------------------- | -------- |
| 成功还原 `video0.mp4` 背景图 | 35分     |
| 成功还原 `video1.mp4` 背景图 | 20分     |
| 成功还原 `video2.mp4` 背景图 | 55分     |
| 输出程序运行计时             | 5分      |
| 算法速度优秀                 | 额外加分 |
| 使用 `makefile` 成功编译运行 | 10分     |
| 编写说明文档                 | 10分     |
| 完成第二周程序设计题         | 15分     |